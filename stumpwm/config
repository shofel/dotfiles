;; vim: set ft=lisp:

(in-package :stumpwm)

(set-prefix-key (kbd "F9")) ; "C-t" is the default value.

(setf *message-window-gravity* :center)
(setf *input-window-gravity* :center)

;; Don't focus with mouse to encourage more keyboard usage.
(setf *mouse-focus-policy* :ignore) ; :ignore :sloppy :click

;; Define the volume control and mute keys.
(define-key *top-map* (kbd "XF86AudioLowerVolume") "exec pactl set-sink-volume 0 -5%")
(define-key *top-map* (kbd "XF86AudioRaiseVolume") "exec pactl set-sink-volume 0 +5%")
(define-key *top-map* (kbd "XF86AudioMute") "exec pactl set-sink-mute 0 toggle")


;;; Define a set of single keys for the most frequent actions.

;; Change frames.

(define-key *root-map* (kbd "Left") "move-focus left")
(define-key *root-map* (kbd "Right") "move-focus right")

;; Move windows.

(define-key *root-map* (kbd "M-Left") "move-window left")
(define-key *root-map* (kbd "M-Right") "move-window right")

;; Change groups.

(define-key *root-map* (kbd "C-Left") "gprev")
(define-key *root-map* (kbd "C-Right") "gnext")


;; Switch input languages.
;; (define-key *root-map* (kbd "C-l") "exec fcitx-remote -t")


;; Restore groups and frames.
;; Restore window placement rules.
(run-commands "gselect 1"
              "grename one")

(restore-from-file "~/.config/stumpwm/desktop")

(restore-window-placement-rules "~/.config/stumpwm/window-placement")

;; Run the apps.
(when *initializing*
  (run-commands "exec google-chrome"
                "exec google-chrome-beta"
                "exec x-terminal-emulator"
                "exec Telegram"))
